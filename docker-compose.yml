# 'version' attribute is removed.
services:
  app:
    build: .
    container_name: sar_backend_app
    volumes:
    - "C:/Users/User/.config/earthengine:/root/.config/earthengine"

  ngrok:
    image: ngrok/ngrok:latest
    container_name: sar_ngrok_tunnel
    ports:
      - "4040:4040"
    depends_on:
      - app
    env_file:
      - .env
    command: >
      sh -c "ngrok http app:8000 --basic-auth='nasa:spaceapps2025' --log=stdout --cors-allow-origin='*'"
